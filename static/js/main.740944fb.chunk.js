(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),i=n.n(r),s=n(16),a=n.n(s),o=(n(23),n(6)),l=n(3),j=(n(24),n(17)),h=n.n(j),u=(n(43),function(){return Object(c.jsx)("header",{children:Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsx)("h1",{children:"The Shoppies"})})})}),b=(n(44),function(e){var t=e.searchApi,n=e.callStatus,i=Object(r.useState)(""),s=Object(l.a)(i,2),a=s[0],o=s[1];return Object(c.jsx)("section",{className:"searchBar",children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("p",{children:"Search by film title below to nominate your all-time favourites for the 2021 Shoppie Awards!"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a.length>0&&(t(a),o(""))},children:[Object(c.jsx)("input",{type:"text",placeholder:"search by film title",value:a,onChange:function(e){return o(e.target.value)},"aria-label":"Search by film title"}),Object(c.jsx)("input",{type:"submit",value:"SEARCH"})]}),"False"===n&&Object(c.jsx)("p",{className:"error",children:"Your search did not return any results. Try another film title!"})]})})}),d=function(e){var t=e.id,n=e.title,r=e.year,i=e.poster,s=e.removeNominee,a="".concat(n," poster");return Object(c.jsx)("li",{children:t?Object(c.jsxs)("div",{className:"figureContainer",children:[Object(c.jsxs)("figure",{children:[Object(c.jsx)("img",{src:i,alt:a}),Object(c.jsxs)("figcaption",{children:[n," (",r,")"]})]}),Object(c.jsx)("button",{className:"primary",onClick:function(){return s(t)},children:"REMOVE"})]}):Object(c.jsx)("div",{className:"figureContainer",children:Object(c.jsx)("div",{className:"trophy"})})})},m=(n(45),function(e){var t=e.resetNoms,n=e.saveNoms;return Object(c.jsx)("div",{className:"completionBanner",children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("h4",{children:"Your nominations are complete!"}),Object(c.jsx)("p",{children:"Not sure if you've got the right picks yet? Very sure?"}),Object(c.jsx)("p",{children:"Lock in your nominations below or reset to start fresh!"}),Object(c.jsx)("button",{className:"primary",onClick:n,children:"SAVE"}),Object(c.jsx)("button",{className:"primary",onClick:t,children:"RESET"})]})})}),O=(n(46),function(e){var t=e.nominees,n=e.setNominees,i=e.removeNominee,s=e.fillPlaceholders,a=Object(r.useState)(!1),o=Object(l.a)(a,2),j=o[0],h=o[1];Object(r.useEffect)((function(){5===t.filter((function(e){return e.imdbID})).length?h(!0):h(!1)}),[t]);return Object(c.jsxs)("section",{className:"nomineePanel",children:[Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("h2",{children:"Your Shoppie Nominees:"}),Object(c.jsx)("ul",{children:t.map((function(e){return Object(c.jsx)(d,{id:e.imdbID,title:e.Title,year:e.Year,poster:e.Poster,removeNominee:i},e.imdbID)}))})]}),!0===j&&Object(c.jsx)(m,{resetNoms:function(){var e=[];e=s(e),n(e),localStorage.removeItem("theShoppies")},saveNoms:function(){localStorage.setItem("theShoppies",JSON.stringify(t))}})]})}),p=function(e){var t=e.id,n=e.title,r=e.year,i=e.handleClick;return Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"secondary",onClick:function(){return i(t)},children:[n," (",r,")"]})})},f=function(e){var t=e.searchPreview,n=e.nominees,r=e.setNominees,i=e.fillPlaceholders,s=t[0],a="".concat(s.Title," poster"),l=n.filter((function(e){return e.imdbID})),j=l.filter((function(e){return e.imdbID===s.imdbID})),h=5-l.length;return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:s.Poster,alt:a}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"heading",children:"Title:"})," ",s.Title]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"heading",children:"Year:"})," ",s.Year]}),l.length<5&&0===j.length&&Object(c.jsx)("button",{className:"primary",onClick:function(){var e=Object(o.a)(n);(e=e.filter((function(e){return e.imdbID}))).push(t[0]),e=i(e),r(e)},children:"NOMINATE"}),Object(c.jsxs)("div",{className:"warnings",children:[j.length>0&&Object(c.jsx)("button",{className:"primary",children:"NOMINATED"}),1===h?Object(c.jsxs)("p",{children:["You have ",Object(c.jsx)("span",{className:"nomRemaining",children:h})," nomination remaining."]}):Object(c.jsxs)("p",{children:["You have ",Object(c.jsx)("span",{className:"nomRemaining",children:h})," nominations remaining."]})]})]})},x=(n(47),function(e){var t=e.searchList,n=e.searchPreview,r=e.setSearchPreview,i=e.nominees,s=e.setNominees,a=e.updatePosterSize,o=e.fillPlaceholders,l=function(e){var n=t.filter((function(t){return t.imdbID===e})),c=a(n);r(c)};return Object(c.jsx)("section",{className:"searchListContainer",children:Object(c.jsxs)("div",{className:"wrapper",children:[t.length>0&&Object(c.jsxs)("div",{className:"col col-1",children:[Object(c.jsx)("h3",{children:"Your Search Results:"}),Object(c.jsx)("ul",{children:t.map((function(e){return Object(c.jsx)(p,{id:e.imdbID,title:e.Title,year:e.Year,handleClick:l},e.imdbID)}))})]}),n.length>0&&Object(c.jsx)("div",{className:"col col-2",children:Object(c.jsx)(f,{searchPreview:n,nominees:i,setNominees:s,fillPlaceholders:o})})]})})}),v=(n(48),function(){return Object(c.jsx)("footer",{children:Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsxs)("p",{children:[Object(c.jsx)("a",{href:"http://www.rubybantock.com",children:"Ruby Bantock"})," | Future Intern | 2021"]})})})});var N=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(r.useState)([]),a=Object(l.a)(s,2),j=a[0],d=a[1],m=Object(r.useState)([]),p=Object(l.a)(m,2),f=p[0],N=p[1],g=Object(r.useState)([]),S=Object(l.a)(g,2),y=S[0],w=S[1],P=function(e){var t=e[0].Poster.replace("300","425");return e[0].Poster=t,e},I=function(e){for(var t=e.length+1;t<6;t++)e.push({});return e};return Object(r.useEffect)((function(){if(localStorage.theShoppies){var e=JSON.parse(localStorage.getItem("theShoppies"));w(e)}else{for(var t=[],n=0;n<5;n++)t.push({});w(t)}}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(u,{}),Object(c.jsxs)("main",{children:[Object(c.jsx)(O,{nominees:y,setNominees:w,removeNominee:function(e){var t=y.filter((function(t){return t.imdbID&&t.imdbID!==e}));t=I(t),w(t)},fillPlaceholders:I}),Object(c.jsx)(b,{searchApi:function(e){var t="http://www.omdbapi.com/?apikey=".concat("c1e13765","&type=movie&s=").concat(e);h.a.get(t).then((function(e){var t=e.data.Response;if("True"===t){i(t),d(e.data.Search);var n=Object(o.a)(e.data.Search);n.length=1;var c=P(n);N(c)}else i(t)})).catch((function(e){window.alert("".concat(e," occurred. Please try your request again."))}))},callStatus:n}),j.length>0&&Object(c.jsx)(x,{searchList:j,searchPreview:f,setSearchPreview:N,nominees:y,setNominees:w,updatePosterSize:P,fillPlaceholders:I})]}),Object(c.jsx)(v,{})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),g()}},[[49,1,2]]]);
//# sourceMappingURL=main.740944fb.chunk.js.map